<html>
<head>
  <title>day23（ajax）.html</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="470"/>
<h1>day23（ajax）.html</h1>

<div>
<span><div><a name="1490"></a></div><div><font style="font-size: 12pt;">梳理知识点</font></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">1、连接数据库步骤</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">   设置数据源</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">   选择数据库</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">   设置字符编码</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">   编写sql语句</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">   执行sql    mysql_query() select-- 返回结果集    mysql_fetch_array()  每次取一行  返回数组</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">             insert update delete -- 返回受影响的行数 </font></span></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">2、ajax </font></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">什么是ajax ：</span> <span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">异步的JavaScript and  xml  </span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    当用户向服务器请求少量的数据时，可以使用ajax来完成，从而 减少带宽，提高用户体验    </span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ajax作用 ： 页面无刷新（局部刷新）  <span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            </span></span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51);">    </span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">【注】：并不是所有效果都用ajax，ajax虽然减少了对服务器的请求，但是增加了步骤，所以代码会增加，一般用ajax实现智能联想关键词搜索，和用户名注册时存在的检测</span></span></span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">客户端和服务器的数据交互 ：         <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：和服务器进行小批量的数据交换才用ajax</span></span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    <img src="day23（ajax）.html_files/Image.png" type="image/png" data-filename="Image.png" style="font-family: Monaco; color: rgb(51, 51, 51);" width="908"/></span></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">3、同步和异步</font></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">异步 ： 同时执行   （生活中的同步）   <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：目前所学的异步的有   定时器   回调函数   和   ajax</span></font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">异步--非阻塞模式   前面的代码不会影响后面代码的执行        <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：异步就是补一个节奏，可以并行执行</span></font></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">同步 ： 顺序执行  （生活中的异步）</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">同步 --- 阻塞模式    前面代码如果出错，后面代码不会执行</font></span></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">4、ajax的执行过程</font></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">打电话 ： </font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">    1、买手机</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">    2、拨号  建立连接</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">    3、打电话方说</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">    4、对方回信息</font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">ajax请求过程：</font></span></div><div><span style="background-color: rgb(251, 250, 248);"><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51);">    1、创建一个ajax对象</span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51);">    </span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51);">    </span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">【注】：存在兼容问题</span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">    </span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">   </span> <span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(65, 173, 28);">request:请求，需求    active：积极的，活跃的    micro：微小的，基本的    soft：软的，柔和的</span></span></font></span></div><div><span style="background-color: rgb(251, 250, 248);"><font style="font-size: 12pt;"><br/></font></span></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">    </span><span style="min-height: 20pt; color: rgb(54, 75, 192); font-family: Consolas;">var</span> <span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">ajax</span> <span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">= new</span> <span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">XMLHttpRequest();</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//创建ajax对象，存在兼容问题      request:请求，需求</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">    </span><span style="min-height: 20pt; color: rgb(54, 75, 192); font-family: Consolas;">var</span> <span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">ajax</span> <span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">= new</span> <span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">ActiveXObject(</span><span style="min-height: 20pt; color: rgb(36, 140, 133); font-family: Consolas;">&quot;Microsoft.XMLHTTP&quot;</span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">);</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//输出结果object，ie不支持输出详细类型    active：积极的           micro：微小的，基本的   soft：软的，柔和的</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">    </span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">alert(ajax);</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//[object XMLHttpRequest]  ajax的对象类型 </span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">   <br/></font></span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;">    2、建立和服务器连接  通过ajax的 open();</font></span></div><div><font style="font-size: 12pt;"><br/></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">    ajax.open(</span><span style="min-height: 20pt; color: rgb(36, 140, 133); font-family: Consolas;">&quot;get&quot;</span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">,</span><span style="min-height: 20pt; color: rgb(36, 140, 133); font-family: Consolas;">&quot;1.txt&quot;</span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">);</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//2、建立和服务器连接,ajax的open方法，第一个参数是传送方式，两种：get和post，get是url传送，即地址或路径后的？的内容传送的，post方法ajax一般不使用，麻烦</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    3、向服务器发送数据  通过</span><span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ajax的</span> <span style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">send() 方法</span><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">    ajax.send();</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//发送数据，在ajax的get方法里send不需要加参数，直接使用，在post方法中send参数是想要传送的数据，还需要做其他操作</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51);">    4、服务器处理数据 并将结果返回到客户端</span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"><font style="color: rgb(255, 0, 0);">（这步骤才是异步）</font></span> <span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51);">  服务器返回的结果 在 ajax.responseText 中取出    </span> <span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(65, 173, 28);">response：响应</span></font></span></div><div><span style="background-color: rgb(251, 250, 248);"><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(65, 173, 28);">        </span><span style="background-color: rgb(251, 250, 248); font-family: Monaco; color: rgb(51, 51, 51);"> </span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">【注】：从服务器中取出的数据在ajax.response中存储</span><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(65, 173, 28);"><br/></span></font></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><font style="font-size: 12pt;"><br/></font></span></span></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> </span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ajax</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">状态值说明：</span></font></div><div style="text-indent: 0px;"><font style="font-size: 12pt;"><span style="text-indent: 20pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体; line-height: 23px;">      </span></span><span style="text-indent: 20pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">0</span> <span style="text-indent: 20pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">：请求未初始化（还没有调用</span><span style="text-indent: 20pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">open</span><span style="text-indent: 20pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">）        <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：请求初始化，即还没调用open方法，顶多设置了ajax对象</span></span></font></div><div style="text-align: left; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">      1</span> <span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">：请求已经建立，但是还没有发送（还没有调用</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">send()</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">）<span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;"> </span><span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：请求已经建立，但是服务器并没有开始处理，即顶多完成了open建立与服务器的链接和send 向服务器传送数据操作</span></span></font></div><div style="text-align: left; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">      2 :</span> <span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">请求已发送，正在处理中</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;"> </span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;"> <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：服务器已经开始处理，但是数据还没有开始处理，是ajax.onreadystatechange中第一次状态改变</span></span></font></div><div style="text-align: left; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">      3 :</span> <span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">请求在处理中，通常响应中已有部分数据可以用了，但是服务器还没有完成响应的生成    <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：开始处理数据了，但若数据太多的话，处理不完</span></span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">   </span> <span style="background-color: rgb(251, 250, 248); color: red; font-family: 宋体;">  4</span> <span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: 宋体;">：响应已完成 您可以获取并使用服务器的响应了</span><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   <span style="background-color: rgb(251, 250, 248); color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：数据处理完成，开始响应，即渲染到html页面上</span></span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">       </span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//ready：准备好的，准备        state：状态，状况，国家        change：改变</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">       </span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">ajax.</span><span style="min-height: 20pt; color: rgb(219, 120, 0); font-family: Consolas;">onreadystatechange</span> <span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">=</span> <span style="min-height: 20pt; color: rgb(54, 75, 192); font-family: Consolas;">function</span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">(){</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//利用ajax的状态改变事件，状态一旦改变就触发事件</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">           </span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//ajax访问服务器时触发五次服务器状态改变</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">           </span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">/*alert( ajax.readyState + &quot;----&quot; + ajax.responseText );</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;"><font style="font-size: 12pt;">           //状态改变了三次，所以有三次输出</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;"><font style="font-size: 12pt;">           //第一次输出  2 ----    2 : 请求已发送，服务器刚刚开始处理 ，但数据一点点还没处理</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;"><font style="font-size: 12pt;">           //第二次输出 3 ---- “内容 ”  3 : 请求在处理中，通常响应中已有部分数据可以用了，但是服务器还没有完成响应的生成</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;"><font style="font-size: 12pt;">           // 第三次输出   4 ----“完整内容”  4 ：响应已完成 您可以获取并使用服务器的响应了---响应就是把内容渲染到html界面上*/</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(62, 75, 83); font-family: Consolas;">       </span><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">    </span><span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">if</span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">( ajax.readyState</span> <span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">==</span> <span style="min-height: 20pt; color: rgb(155, 28, 235); font-family: Consolas;">4</span> <span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">&amp;&amp;</span> <span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">ajax.status</span> <span style="min-height: 20pt; color: rgb(87, 121, 9); font-family: Consolas;">==</span> <span style="min-height: 20pt; color: rgb(155, 28, 235); font-family: Consolas;">200</span> <span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">){</span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//ajax.readyState state:状态  获取服务器状态改变值，反应ajax传送过程中的执行的程度    ajax.status status:状态 获取状态码    404 路径不正确   200交易成功</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">               </span><span style="min-height: 20pt; color: rgb(149, 163, 171); font-family: Consolas;">//当ajax传送的数据不正确是，也会触发服务器的状态改变所以也会有输出，但输出结果是&lt;html&gt;&lt;body&gt;&lt;h1&gt;&lt;h3&gt;未找到文件/ajax/12.txt，请检查访问路径是否正确&lt;/h3&gt;&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;   即  404 not found</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; color: rgb(1, 1, 1); font-family: Consolas;">               </span><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;">alert( ajax.responseText );</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;"><font style="font-size: 12pt;">           }</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;"><font style="font-size: 12pt;">           </font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;"><font style="font-size: 12pt;">       }</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; color: rgb(8, 8, 8); font-family: Consolas;"><font style="font-size: 12pt;">    }</font></span></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">5、缓存问题</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">缓存 ： 当向服务器发送两个完全相同的路径时，第二次ajax请求的数据直接从浏览器的缓存上获取   如果请求的数据有变动，缓存的信息不会及时更改</font></div><div><span style="line-height: 23px;"><font style="font-size: 12pt;">解决办法 ： 在路径上加一个参数，值是一个随机数</font></span></div><div><font style="font-size: 12pt;"><span style="min-height: 18pt; font-family: consolas; color: rgb(149, 163, 171);">            //ajax.open(&quot;GET&quot;, (this.index+1) + &quot;.txt?</span><span style="min-height: 18pt; font-family: consolas;"><font style="color: rgb(250, 122, 0);">id=&quot;+Math.random()</font></span> <span style="min-height: 18pt; font-family: consolas; color: rgb(149, 163, 171);">);</span></font></div><div><font style="font-size: 12pt;"><span style="min-height: 18pt; font-family: consolas; color: rgb(1, 1, 1);">            </span><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">ajax.open(</span><span style="min-height: 18pt; font-family: consolas; color: rgb(36, 140, 133);">&quot;GET&quot;</span><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">, (</span><span style="min-height: 18pt; font-family: consolas; color: rgb(54, 75, 192);">this</span><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">.index</span><span style="min-height: 18pt; font-family: consolas; color: rgb(87, 121, 9);">+</span><span style="min-height: 18pt; font-family: consolas; color: rgb(155, 28, 235);">1</span><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">)</span> <span style="min-height: 18pt; font-family: consolas; color: rgb(87, 121, 9);">+</span> <span style="min-height: 18pt; font-family: consolas; color: rgb(36, 140, 133);">&quot;.txt?id=&quot;</span><span style="min-height: 18pt; font-family: consolas; color: rgb(87, 121, 9);">+</span><font style="color: rgb(255, 0, 0);"><span style="min-height: 18pt; font-family: consolas;">new</span> <span style="min-height: 18pt; font-family: consolas;">Date().getTime()</span></font> <span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">);</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">1.txt?id=1</font></div><div><font style="font-size: 12pt;">1.txt?id=2</font></div><div><font style="font-size: 12pt;">编码问题 ： </font></div><div><font style="font-size: 12pt;"><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">encodeURI(</span><span style="min-height: 18pt; font-family: consolas; color: rgb(36, 140, 133); background: rgb(227, 220, 137);">&quot;李春娥&quot;</span><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">)     向服务器发送数据 做中文格式编码转换  </span></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">6、向服务器发送数据</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">get    路径传值   传递的数据量少    <font color="#A600C4">【注】：把url路径后面？的数据传递，数据和数据之间用&amp;连接，字符串模板拼接字符串更方便</font></font></div><div><font><font color="#A600C4" style="font-size: 12pt;"><br/></font></font></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">date</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">`status=register&amp;userID=${oT1.value}&amp;password=${oT2.value}`;</span></font></div><div style="min-height: 11pt;"><font style="font-size: 12pt;"><span style="min-height: 11pt; font-family: Consolas; color: rgb(8, 8, 8);">        ajax.open(</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;get&quot;</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;<a href="http://datainfo.duapp.com/shopdata/userinfo.php?" style="color: rgb(166, 0, 196);">http://datainfo.duapp.com/shopdata/userinfo.php?</a>&quot;</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(87, 121, 9);">+</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(60, 122, 3);">date</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">post   非url传递   传递的数据量大    </font></div><div><font style="font-size: 12pt;">get  或  post  <span style="font-family: Monaco; color: rgb(51, 51, 51);">都可以发送或获取数据</span></font></div><div><font style="font-size: 12pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);"><br/></span></font></div><div><span style="min-height: 18pt; font-family: consolas; color: rgb(149, 163, 171);"><font style="font-size: 12pt;">        //post 方式向服务器发送数据时  需要设置请求头部</font></span></div><div style="min-height: 11pt;"><font style="font-size: 12pt;"><span style="min-height: 11pt; font-family: consolas; color: rgb(1, 1, 1);">        </span><span style="min-height: 11pt; font-family: consolas; color: rgb(8, 8, 8);">ajax.setRequestHeader(</span><span style="min-height: 11pt; font-family: consolas; color: rgb(36, 140, 133);">&quot;content-type&quot;</span><span style="min-height: 11pt; font-family: consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 11pt; font-family: consolas; color: rgb(36, 140, 133);">&quot;application/x-www-form-urlencoded&quot;</span><span style="min-height: 11pt; font-family: consolas; color: rgb(8, 8, 8);">)</span></font></div><div><font style="font-size: 12pt;"><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">        ajax.send(</span><span style="min-height: 18pt; font-family: consolas; color: rgb(36, 140, 133);">&quot;uname=admin&amp;upwd=123&quot;</span><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);">);</span></font></div><div><span style="min-height: 18pt; font-family: consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;"><br/></font></span></div><div><font color="#A600C4" style="font-size: 12pt;">【注】：用post方式传送数据实例；</font></div><div><font color="#A600C4" style="font-size: 12pt;"><br/></font></div><div><font color="#A600C4" style="font-size: 12pt;">html文件内容</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&lt;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(35, 105, 182);">script</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&gt;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">null</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">window</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.XMLHttpRequest ){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">= new</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">XMLHttpRequest();</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    }</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">else</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">{</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">= new</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ActiveXObject(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;Microsoft.XMLHTTP&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    ajax.open(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;post&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;ajaxpost.php&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171);">//post 方式向服务器发送数据时  需要设置请求头部</span></font></div><div style="min-height: 11pt;"><font style="font-size: 12pt;"><span style="min-height: 11pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.setRequestHeader(</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;content-type&quot;</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;application/x-www-form-urlencoded&quot;</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    ajax.send(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;uname=chenkang&amp;upwd=123&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    ajax.</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(219, 120, 0);">onreadystatechange</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">function</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">( ajax.status</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">==</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">200</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">&amp;&amp;</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.readyState</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">==</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">4</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">){</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">           alert(ajax.responseText)</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">       }</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&lt;/</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(35, 105, 182);">script</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&gt;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><br/></font></div><div style="min-height: 20pt;"><font color="#A600C4" style="font-size: 12pt;">php文件</font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><br/></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(128, 128, 64);"><font style="font-size: 12pt;">&lt;?php</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">$uname</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">$_POST</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;uname&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">]</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    $upwd</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">$_POST</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;upwd&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">]</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(202, 0, 75);">echo</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">$uname,$upwd;</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(128, 128, 64);"><font style="font-size: 12pt;">?&gt;</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><br/></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">7、字符串和对象的类型转换</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">字符串转对象 : JSON.parse()    eval()</font></div><div><font style="font-size: 12pt;">    <font color="#A600C4">【注】：用eval()转的时候，转的字符对象前后必须拼接   左右括号</font><br/></font></div><div><font style="font-size: 12pt;">对象转字符串 ： JSON.stringify()</font></div><div><font color="#A600C4" style="font-size: 12pt;"><br/></font></div><div><font color="#A600C4" style="font-size: 12pt;">eval转对象实例</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&lt;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(35, 105, 182);">script</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&gt;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">null</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">window</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.XMLHttpRequest ){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">= new</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">XMLHttpRequest();</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    }</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">else</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">{</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">= new</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ActiveXObject(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;Microsoft.XMLHTTP&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><div style="min-height: 20pt;"></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    ajax.open(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;get&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;data.json&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    ajax.send();</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    ajax.</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(219, 120, 0);">onreadystatechange</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">function</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">( ajax.status</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">==</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">200</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">&amp;&amp;</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.readyState</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">==</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">4</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">str</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.responseText;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.log(str);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.log(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">typeof</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">str);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">arr1</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">JSON</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.parse(str);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.log(arr1);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.log(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">typeof</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">arr1);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">arr2</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">eval(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;(&quot;</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">+</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">str</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">+</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;)&quot;</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171);">//eval也可以把字符串对象装成json对象，字符串对象就是那些存入cookie啊，数据库中的对象，通过eval转的结果和JSON.parse的结果完全一样，不过使用方法必须在转的内容前后拼接字符  左右括号</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.log(arr2);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.log(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">typeof</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">arr2);</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">       }</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&lt;/</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(35, 105, 182);">script</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&gt;</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);"><font style="font-size: 12pt;"><br/></font></span></div><div style="min-height: 20pt;"><font color="#A600C4" style="font-size: 12pt;">data.json中的数据</font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><br/></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);"><font style="font-size: 12pt;">[</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">    {</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;pid&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;01&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;pname&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;苹果&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;price&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:12},</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">    {</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;pid&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;02&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;pname&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;香蕉&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;price&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:23},</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">    {</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;pid&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;03&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;pname&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;火龙果&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(135, 154, 181);">&quot;price&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">:56}</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);"><font style="font-size: 12pt;">]</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><br/></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">8、ajax请求接口</font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><font color="#FF0000">接口 ：url路径</font>   open(&quot;get&quot;,接口)</font></div><div><font style="font-size: 12pt;">接口信息 ： </font></div><div><font style="font-size: 12pt;">    接口路径（后台路径 xxx.php  xxx.jsp ）<br/></font></div><div><font style="font-size: 12pt;">    接口参数(可选) <br/></font></div><div><font style="font-size: 12pt;">    接口返回值<br/></font></div><div><font style="font-size: 12pt;">例如 ：</font></div><div><font style="font-size: 12pt;">    接口路径 ：  <a href="http://localhost/xx/checkName.php">http://localhost/xx/checkName.php</a><br/></font></div><div><font style="font-size: 12pt;">    接口参数 :   uname<br/></font></div><div><font style="font-size: 12pt;">    接口返回值  ：  <br/></font></div><div><font style="font-size: 12pt;">        1 ：  不存在<br/></font></div><div><font style="font-size: 12pt;">        2 :   存在<br/></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">ajax的执行实例</font></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&lt;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(35, 105, 182);">script</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&gt;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">oUl</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">document</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.querySelector(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;ul&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">null</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3);">window</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.XMLHttpRequest ){</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171);">//创建ajax对象，并解决和低版本ie的兼容问题</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">= new</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">XMLHttpRequest();</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    }</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">else</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">{</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">       ajax</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">= new</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ActiveXObject(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;Microsoft.XMLHTTP&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">    ajax.open(</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;get&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;data.json&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">);</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171);">//建立连接，搭建桥梁，把传送数据的位置找到</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.send();</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171);">//传送数据</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(219, 120, 0);">onreadystatechange</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">function</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(){</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171);">//服务器处理完成，并将结果返回给客户端</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">( ajax.readyState</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">==</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">4</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">&amp;&amp;</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.status</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">==</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">200</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">str</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">ajax.responseText;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">arr</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">JSON</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">.parse(str);</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">res</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133);">&quot;&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">;</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">for</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(54, 75, 192);">var</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">i</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235);">0</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">; i</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">&lt;</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">arr.length; i</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">++</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">               res</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">+=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">`&lt;li&gt;pid:${arr[i].pid},pname:${arr[i].pname},price:${arr[i].price}&lt;/li&gt;`;</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">           }</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">    </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(1, 1, 1);">       </span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">oUl.innerHTML</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9);">=</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);">res;</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">       }</font></span></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&lt;/</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(35, 105, 182);">script</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);">&gt;</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(62, 75, 83);"><font style="font-size: 12pt;"><br/></font></span></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><br/></div></span>
</div></body></html> 