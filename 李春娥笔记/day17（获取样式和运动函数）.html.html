<html>
<head>
  <title>day17（获取样式和运动函数）.html</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="524"/>
<h1>day17（获取样式和运动函数）.html</h1>

<div>
<span><div><span style="font-size: 12pt;">body, td { font-family: 微软雅黑; font-size: 12pt; }</span></div><div><span style="font-size: 12pt;">ES6</span></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12pt;">严格模式 ： use strict</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12pt;">let  </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12pt;">this指向  bind()      apply()  call()  </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12pt;">for..of/for...in  </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12pt;">字符串模板  ` `  </span></span></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; line-height: 23px;">常量  const</span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; line-height: 23px;">箭头函数 ： () =&gt; {  }</span></font></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; line-height: 23px; font-size: 12pt;">解构赋值  :    [x,y] = [3,4]    return [  ]   function fn( { sname,age } ){  }        [x,y] = [y,x]</span></span></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; line-height: 23px;">将类数组 转成 数组  :  Array.from(  ) </span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; line-height: 23px;">set集合  ：  自动去重   [...new Set([])]    </span><span style="font-size: 12pt; color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">【注】：结果是数组</span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; line-height: 23px;">Symbol  </span></font></div></div><div><br/></div><div><span style="font-size: 12pt;">运动 </span></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);"><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">//obj 操作的元素</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">//json 参数为 要操作的属性和目标值   键--属性    值--目标值</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">//callback 回调函数</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">var flag;//开关变量  当值为true时，表示 所有的动作都执行完毕 ，可以关掉定时器 ，也可以进入下一个动作</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">function startMove(obj,json,callback){//attr表示要操作的属性</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        </span></span></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">    clearInterval(obj.timer);</span><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">    </span></font></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">    obj.timer = setInterval(function(){</span></span></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">        flag = true;</span><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">       </span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">        var current = 0;</span><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">       </span></font></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">        for(var attr in json){</span><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">           </span></font></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            if( attr ==&quot;opacity&quot; ){//操作透明度</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                //获取透明度的样式值</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                current =parseFloat( getStyle(obj,attr) )*100;</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }else if( attr == &quot;zIndex&quot; ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                current =parseInt( getStyle(obj,attr)  ) ;//接收当前元素的样式值</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }else{</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                current =parseInt( getStyle(obj,attr)  ) ;//接收当前元素的样式值</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            var speed = (json[attr] - current)/10;</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            speed = speed&gt;0?Math.ceil(speed) : Math.floor(speed);</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            if( current != json[attr] ){//动作完成后的条件  </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                flag = false;//当目标值和当前的样式值 不相等时  ， 将开关变量值关闭 false</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            //定时器开启时  不停的改变元素的样式</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            if( attr == &quot;opacity&quot; ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                obj.style.opacity = (current+speed)/100;</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }else if( attr==&quot;zIndex&quot; ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                obj.style.zIndex = json[attr];</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }else{</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                obj.style[attr] = current + speed + &quot;px&quot;;</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">    </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        //循环结束后判断flag的值，当值为true时，表示 所有的动作都执行完毕 ，可以关掉定时器 ，也可以进入下一个动作</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        if( flag ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            clearInterval(obj.timer);</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            //上一个动作完成后 就开启下一个动作的执行    调用callback</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            //判断 callback是否存在 存在就调用</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            if( callback ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">                callback();</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">            }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">    },30)</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">}</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">//获取样式值函数</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">function getStyle(obj,attr){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">    if( window.getComputedStyle ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        return window.getComputedStyle( obj,false )[attr];</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">    }else{</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">        return obj.currentStyle[attr];</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">    }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">}</span></span></div><div><br/></div><div><hr/><div><br/></div></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12pt;">匀速运动 ---- 缓冲运动 ----- 多物体运动---链式运动---完美运动</span></span></div><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco; line-height: 23px;">抛物线  圆周</span></font></div><div><br/></div></div><div><br/></div><div><span style="font-size: 12pt;">获取非行内元素样式值 函数封装</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><br/></div><div><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: consolas; color: rgb(54, 75, 192);">   function</span> <span style="min-height: 20pt; font-family: consolas; color: rgb(219, 120, 0);">getStyle</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">(</span><span style="min-height: 20pt; font-family: consolas; color: rgb(165, 120, 0);">obj</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">,</span><span style="min-height: 20pt; font-family: consolas; color: rgb(165, 120, 0);">attr</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">){</span></font></div><div><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">        //只能获取css样式，js属性获取不到，比如offsetWidth</font></span></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">       </span><span style="min-height: 20pt; font-family: consolas; color: rgb(87, 121, 9);">if</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">(</span> <span style="min-height: 20pt; font-family: consolas; color: rgb(60, 122, 3);">window</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">.getComputedStyle ){</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: consolas; color: rgb(87, 121, 9);">return</span> <span style="min-height: 20pt; font-family: consolas; color: rgb(60, 122, 3);">window</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">.getComputedStyle(obj,</span><span style="min-height: 20pt; font-family: consolas; color: rgb(155, 28, 235);">false</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">)[</span><span style="min-height: 20pt; font-family: consolas; color: rgb(60, 122, 3);">attr</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">];</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">       }</span><span style="min-height: 20pt; font-family: consolas; color: rgb(87, 121, 9);">else</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">{</span></font></div><div style="min-height: 20pt;"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">           </span><span style="min-height: 20pt; font-family: consolas; color: rgb(87, 121, 9);">return</span> <span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">obj.currentStyle[</span><span style="min-height: 20pt; font-family: consolas; color: rgb(60, 122, 3);">attr</span><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);">];</span></font></div><div style="min-height: 20pt;"><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">       }</font></span></div><div><span style="min-height: 20pt; font-family: consolas; color: rgb(8, 8, 8);"><font style="font-size: 12pt;">    }</font></span></div><h1><span style="color: rgb(8, 8, 8);"><font face="微软雅黑" style="font-size: 12pt;">currentStyle 对象                      current：现在的，当前的     ie识别这个    currentStyle</font></span></h1><div><span style="color: rgb(8, 8, 8);-en-paragraph:true;"><font face="微软雅黑" style="font-size: 12pt;">代表了在全局样式表、内嵌样式和 HTML 标签属性中指定的对象格式和样式。</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(8, 8, 8);-en-paragraph:true;"><font face="微软雅黑" style="font-size: 12pt;">注释</font></span></div><blockquote><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象返回了元素上的样式表，但是</span> <a href="mk://obj_style.html" style="color: rgb(8, 8, 8);-en-paragraph:true;">style</a> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象只返回通过</span> <a href="mk://STYLE.html" style="color: rgb(8, 8, 8);-en-paragraph:true;">STYLE</a> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">标签属性应用到元素的内嵌样式。因此，通过</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象获取的样式值可能与通过</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">style</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象获取的样式值不同。例如，如果段落的</span> <a href="mk:/properties/color_1.html" style="color: rgb(8, 8, 8);-en-paragraph:true;">color</a> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">属性值通过链接或嵌入样式表设置为红色( red )，而不是内嵌的话，对象.</span><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">.color 将返回正确的颜色，而对象</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">style</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">.</span><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">color</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">不能返回值。但是，如果用户指定了 </span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="color: rgb(8, 8, 8);-en-paragraph:true;">&lt;P STYLE=&quot;color:'red'&quot;&gt;，</span><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">和</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">STYLE</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象都将返回值</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">red</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象反映了样式表中的样式优先顺序。在 HTML 中此顺序为：</span></font></div><ol><li><div><font face="微软雅黑" style="font-size: 12pt;">内嵌样式</font></div></li><li><div><font face="微软雅黑" style="font-size: 12pt;">样式表规则</font></div></li><li><div><font face="微软雅黑" style="font-size: 12pt;">HTML 标签属性</font></div></li><li><div><font face="微软雅黑" style="font-size: 12pt;">HTML 标签的内部定义</font></div></li></ol><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="color: rgb(8, 8, 8);-en-paragraph:true;">从而，</span><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象将为 bold 标签返回</span> <a href="mk:/properties/fontWeight.html" style="color: rgb(8, 8, 8);-en-paragraph:true;">fontWeight</a> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">值</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">normal</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">，若在样式表中为此标签指定了</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">normal</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">返回反映页面所应用的样式设置的值，但可能并不反映获取值时渲染所采用的值。例如，样式值设置为</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">&quot;color:red; display:none&quot;</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">的对象，将返回</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">.color 为</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">red</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">，尽管该对象并不在页面上渲染。也就是说，</span><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象并不受渲染与否的绑定。禁用的样式表也不影响</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">值。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="color: rgb(8, 8, 8);-en-paragraph:true;">返回值的单位与设置对象时的单位相同。例如，若对象的颜色是以内嵌</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">STYLE=&quot;color:'green'&quot;</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">的格式设置的，那么</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">object</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">.</span><span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span><span style="color: rgb(8, 8, 8);-en-paragraph:true;">.color 将返回</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">green</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">而不是</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">#00FF00</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">(与绿色相等的红绿蓝十六进制值)。但是，当</span> <span style="font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="color: rgb(8, 8, 8);-en-paragraph:true;">对象返回对象值的时候出现在作者所设置的对象值中的大写和多余的空白将被去掉。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑;font-weight: bold;color: rgb(8, 8, 8);-en-paragraph:true;">currentStyle</span> <span style="font-family: 微软雅黑;color: rgb(8, 8, 8);-en-paragraph:true;">对象支持用户自定义的样式规则属性。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font face="微软雅黑" style="font-size: 12pt;"><span style="color: rgb(8, 8, 8);-en-paragraph:true;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.log( divs[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">1</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">].offsetWidth )</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171); background: rgb(227, 220, 137);">//102</span></span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(8, 8, 8);"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.log( divs[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">1</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">].clientWidth )</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171); background: rgb(227, 220, 137);">//100</span></font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">【注】：offsetWidth是    自身宽度 + 边框 + padding     返回值是number类型</span></font></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);"><font style="font-size: 12pt;">        clientWidth是     自身宽度 + 边框            <span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">返回值是number类型</span></font></span></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(8, 8, 8);"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.log(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">window</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.getComputedStyle(divs[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">1</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">],</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">true</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">)[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133); background: rgb(227, 220, 137);">&quot;width&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">] )</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171); background: rgb(227, 220, 137);">//100px</span></font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(8, 8, 8);"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.log(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">window</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.getComputedStyle(divs[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">1</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">],</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">false</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">)[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133); background: rgb(227, 220, 137);">&quot;width&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">] )</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171); background: rgb(227, 220, 137);">//100px</span></font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><font style="font-size: 12pt;"><span style="color: rgb(166, 0, 196); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248);">【注】：true和false没区别，<span style="background-color: rgb(251, 250, 248); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(166, 0, 196);">返回值是string类型，一般使用的时候需要parseInt（）</span><span style="font-family: Monaco; color: rgb(166, 0, 196);"> </span></span></font></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(8, 8, 8);"><font style="font-size: 12pt;"><span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">console</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.log(</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(87, 121, 9); background: rgb(227, 220, 137);">typeof</span> <span style="min-height: 20pt; font-family: Consolas; color: rgb(60, 122, 3); background: rgb(227, 220, 137);">window</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">.getComputedStyle(divs[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">1</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">],</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(155, 28, 235); background: rgb(227, 220, 137);">false</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">)[</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(36, 140, 133); background: rgb(227, 220, 137);">&quot;width&quot;</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(8, 8, 8); background: rgb(227, 220, 137);">] )</span><span style="min-height: 20pt; font-family: Consolas; color: rgb(149, 163, 171); background: rgb(227, 220, 137);">//string</span></font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><br/></div></div></blockquote></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">function move(obj,target,attr){</font></div><div><font style="font-size: 12pt;">    clearInterval(obj.timer);</font></div><div><font style="font-size: 12pt;">    obj.timer = setInterval(function(){</font></div><div><font style="font-size: 12pt;">        if( attr == &quot;opacity&quot; ){</font></div><div><font style="font-size: 12pt;">            <span style="font-family: Monaco; color: rgb(51, 51, 51);">var current =parseFloat( getStyle(obj,attr) )*100;</span></font></div><div><font style="font-size: 12pt;">        }else{</font></div><div><font style="font-size: 12pt;">            var current =parseInt( getStyle(obj,attr) );</font></div><div><font style="font-size: 12pt;">        }</font></div><div><font style="font-size: 12pt;">        var speed = (target-current)/10;</font></div><div><font style="font-size: 12pt;">        speed = speed&gt;0?Math.ceil(speed) : Math.floor(speed);</font></div><div><font style="font-size: 12pt;">        if( <span style="font-family: Monaco; color: rgb(51, 51, 51);">current==target</span> ){</font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 12pt;">                    clearInterval(obj.timer);</font></span></div><div><font style="font-size: 12pt;">        }else{</font></div><div><br/></div><div><font style="font-size: 12pt;">            if( attr == &quot;opacity&quot; ){</font></div><div><font style="font-size: 12pt;">                <span style="font-family: Monaco; color: rgb(51, 51, 51);">obj.style[attr]= (current + speed )/100</span></font></div><div><font style="font-size: 12pt;">            }else{</font></div><div><font style="font-size: 12pt;">                <span style="font-family: Monaco; color: rgb(51, 51, 51);">obj.style[attr]= current + speed + &quot;px&quot;</span></font></div><div><font style="font-size: 12pt;">            }</font></div><div><font style="font-size: 12pt;">           </font></div><div><font style="font-size: 12pt;">        }    </font></div><div><font style="font-size: 12pt;">    },30)</font></div><div><font style="font-size: 12pt;">}</font></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 